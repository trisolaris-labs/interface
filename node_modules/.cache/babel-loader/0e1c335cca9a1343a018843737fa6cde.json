{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decrypt = exports.encrypt = void 0;\n\nconst crypto_1 = __importDefault(require(\"crypto\"));\n\nfunction encrypt(plainText, secret) {\n  const iv = crypto_1.default.randomBytes(12);\n  const cipher = crypto_1.default.createCipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n  const encrypted = Buffer.concat([cipher.update(Buffer.from(plainText, \"utf8\")), cipher.final()]);\n  return Buffer.concat([iv, cipher.getAuthTag(), encrypted]).toString(\"hex\");\n}\n\nexports.encrypt = encrypt;\n\nfunction decrypt(cipherText, secret) {\n  const buf = Buffer.from(cipherText, \"hex\");\n  const iv = buf.slice(0, 12);\n  const authTag = buf.slice(12, 28);\n  const encrypted = buf.slice(28);\n  const decipher = crypto_1.default.createDecipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n  decipher.setAuthTag(authTag);\n  return Buffer.concat([decipher.update(encrypted), decipher.final()]).toString(\"utf8\");\n}\n\nexports.decrypt = decrypt;","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/node_modules/walletlink/dist/relay/aes256gcm.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","decrypt","encrypt","crypto_1","require","plainText","secret","iv","default","randomBytes","cipher","createCipheriv","Buffer","from","encrypted","concat","update","final","getAuthTag","toString","cipherText","buf","slice","authTag","decipher","createDecipheriv","setAuthTag"],"mappings":"AAAA,a,CACA;AACA;AACA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,OAAR,GAAkBF,OAAO,CAACG,OAAR,GAAkB,KAAK,CAAzC;;AACA,MAAMC,QAAQ,GAAGT,eAAe,CAACU,OAAO,CAAC,QAAD,CAAR,CAAhC;;AACA,SAASF,OAAT,CAAiBG,SAAjB,EAA4BC,MAA5B,EAAoC;AAChC,QAAMC,EAAE,GAAGJ,QAAQ,CAACK,OAAT,CAAiBC,WAAjB,CAA6B,EAA7B,CAAX;AACA,QAAMC,MAAM,GAAGP,QAAQ,CAACK,OAAT,CAAiBG,cAAjB,CAAgC,aAAhC,EAA+CC,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoB,KAApB,CAA/C,EAA2EC,EAA3E,CAAf;AACA,QAAMO,SAAS,GAAGF,MAAM,CAACG,MAAP,CAAc,CAC5BL,MAAM,CAACM,MAAP,CAAcJ,MAAM,CAACC,IAAP,CAAYR,SAAZ,EAAuB,MAAvB,CAAd,CAD4B,EAE5BK,MAAM,CAACO,KAAP,EAF4B,CAAd,CAAlB;AAIA,SAAOL,MAAM,CAACG,MAAP,CAAc,CAACR,EAAD,EAAKG,MAAM,CAACQ,UAAP,EAAL,EAA0BJ,SAA1B,CAAd,EAAoDK,QAApD,CAA6D,KAA7D,CAAP;AACH;;AACDpB,OAAO,CAACG,OAAR,GAAkBA,OAAlB;;AACA,SAASD,OAAT,CAAiBmB,UAAjB,EAA6Bd,MAA7B,EAAqC;AACjC,QAAMe,GAAG,GAAGT,MAAM,CAACC,IAAP,CAAYO,UAAZ,EAAwB,KAAxB,CAAZ;AACA,QAAMb,EAAE,GAAGc,GAAG,CAACC,KAAJ,CAAU,CAAV,EAAa,EAAb,CAAX;AACA,QAAMC,OAAO,GAAGF,GAAG,CAACC,KAAJ,CAAU,EAAV,EAAc,EAAd,CAAhB;AACA,QAAMR,SAAS,GAAGO,GAAG,CAACC,KAAJ,CAAU,EAAV,CAAlB;AACA,QAAME,QAAQ,GAAGrB,QAAQ,CAACK,OAAT,CAAiBiB,gBAAjB,CAAkC,aAAlC,EAAiDb,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoB,KAApB,CAAjD,EAA6EC,EAA7E,CAAjB;AACAiB,EAAAA,QAAQ,CAACE,UAAT,CAAoBH,OAApB;AACA,SAAOX,MAAM,CAACG,MAAP,CAAc,CAACS,QAAQ,CAACR,MAAT,CAAgBF,SAAhB,CAAD,EAA6BU,QAAQ,CAACP,KAAT,EAA7B,CAAd,EAA8DE,QAA9D,CAAuE,MAAvE,CAAP;AACH;;AACDpB,OAAO,CAACE,OAAR,GAAkBA,OAAlB","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst crypto_1 = __importDefault(require(\"crypto\"));\nfunction encrypt(plainText, secret) {\n    const iv = crypto_1.default.randomBytes(12);\n    const cipher = crypto_1.default.createCipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n    const encrypted = Buffer.concat([\n        cipher.update(Buffer.from(plainText, \"utf8\")),\n        cipher.final()\n    ]);\n    return Buffer.concat([iv, cipher.getAuthTag(), encrypted]).toString(\"hex\");\n}\nexports.encrypt = encrypt;\nfunction decrypt(cipherText, secret) {\n    const buf = Buffer.from(cipherText, \"hex\");\n    const iv = buf.slice(0, 12);\n    const authTag = buf.slice(12, 28);\n    const encrypted = buf.slice(28);\n    const decipher = crypto_1.default.createDecipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n    decipher.setAuthTag(authTag);\n    return Buffer.concat([decipher.update(encrypted), decipher.final()]).toString(\"utf8\");\n}\nexports.decrypt = decrypt;\n"]},"metadata":{},"sourceType":"script"}