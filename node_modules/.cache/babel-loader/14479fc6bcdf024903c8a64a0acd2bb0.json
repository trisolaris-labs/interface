{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _utils = require('./utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _cookie = require('./browserLookups/cookie.js');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _querystring = require('./browserLookups/querystring.js');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _localStorage = require('./browserLookups/localStorage.js');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _navigator = require('./browserLookups/navigator.js');\n\nvar _navigator2 = _interopRequireDefault(_navigator);\n\nvar _htmlTag = require('./browserLookups/htmlTag.js');\n\nvar _htmlTag2 = _interopRequireDefault(_htmlTag);\n\nvar _path = require('./browserLookups/path.js');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _subdomain = require('./browserLookups/subdomain.js');\n\nvar _subdomain2 = _interopRequireDefault(_subdomain);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'],\n    //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n    checkWhitelist: true\n  };\n}\n\nvar Browser = function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults()); // backwards compatibility\n\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(_cookie2.default);\n      this.addDetector(_querystring2.default);\n      this.addDetector(_localStorage2.default);\n      this.addDetector(_navigator2.default);\n      this.addDetector(_htmlTag2.default);\n      this.addDetector(_path2.default);\n      this.addDetector(_subdomain2.default);\n    }\n  }, {\n    key: 'addDetector',\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: 'detect',\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      var found = void 0;\n      detected.forEach(function (lng) {\n        if (found) return;\n\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n\n        if (!_this.options.checkWhitelist || _this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found) {\n        var fallbacks = this.i18nOptions.fallbackLng;\n        if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n        if (!fallbacks) fallbacks = [];\n\n        if (Object.prototype.toString.apply(fallbacks) === '[object Array]') {\n          found = fallbacks[0];\n        } else {\n          found = fallbacks[0] || fallbacks.default && fallbacks.default[0];\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: 'cacheUserLanguage',\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\nexports.default = Browser;","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/node_modules/i18next-browser-languagedetector/dist/commonjs/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_utils","require","utils","_interopRequireWildcard","_cookie","_cookie2","_interopRequireDefault","_querystring","_querystring2","_localStorage","_localStorage2","_navigator","_navigator2","_htmlTag","_htmlTag2","_path","_path2","_subdomain","_subdomain2","obj","__esModule","default","newObj","hasOwnProperty","call","_classCallCheck","instance","TypeError","getDefaults","order","lookupQuerystring","lookupCookie","lookupLocalStorage","caches","excludeCacheFor","checkWhitelist","Browser","services","options","arguments","undefined","type","detectors","init","i18nOptions","defaults","lookupFromUrlIndex","lookupFromPathIndex","addDetector","detector","name","detect","detectionOrder","_this","detected","forEach","detectorName","lookup","concat","found","lng","cleanedLng","languageUtils","formatLanguageCode","isWhitelisted","fallbacks","fallbackLng","toString","apply","cacheUserLanguage","_this2","indexOf","cacheName"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4Bb,MAAAA,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,MAAM,GAAGC,OAAO,CAAC,YAAD,CAApB;;AAEA,IAAIC,KAAK,GAAGC,uBAAuB,CAACH,MAAD,CAAnC;;AAEA,IAAII,OAAO,GAAGH,OAAO,CAAC,4BAAD,CAArB;;AAEA,IAAII,QAAQ,GAAGC,sBAAsB,CAACF,OAAD,CAArC;;AAEA,IAAIG,YAAY,GAAGN,OAAO,CAAC,iCAAD,CAA1B;;AAEA,IAAIO,aAAa,GAAGF,sBAAsB,CAACC,YAAD,CAA1C;;AAEA,IAAIE,aAAa,GAAGR,OAAO,CAAC,kCAAD,CAA3B;;AAEA,IAAIS,cAAc,GAAGJ,sBAAsB,CAACG,aAAD,CAA3C;;AAEA,IAAIE,UAAU,GAAGV,OAAO,CAAC,+BAAD,CAAxB;;AAEA,IAAIW,WAAW,GAAGN,sBAAsB,CAACK,UAAD,CAAxC;;AAEA,IAAIE,QAAQ,GAAGZ,OAAO,CAAC,6BAAD,CAAtB;;AAEA,IAAIa,SAAS,GAAGR,sBAAsB,CAACO,QAAD,CAAtC;;AAEA,IAAIE,KAAK,GAAGd,OAAO,CAAC,0BAAD,CAAnB;;AAEA,IAAIe,MAAM,GAAGV,sBAAsB,CAACS,KAAD,CAAnC;;AAEA,IAAIE,UAAU,GAAGhB,OAAO,CAAC,+BAAD,CAAxB;;AAEA,IAAIiB,WAAW,GAAGZ,sBAAsB,CAACW,UAAD,CAAxC;;AAEA,SAASX,sBAAT,CAAgCa,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAAShB,uBAAT,CAAiCgB,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIG,MAAM,GAAG,EAAb;;AAAiB,QAAIH,GAAG,IAAI,IAAX,EAAiB;AAAE,WAAK,IAAIxB,GAAT,IAAgBwB,GAAhB,EAAqB;AAAE,YAAItC,MAAM,CAACkB,SAAP,CAAiBwB,cAAjB,CAAgCC,IAAhC,CAAqCL,GAArC,EAA0CxB,GAA1C,CAAJ,EAAoD2B,MAAM,CAAC3B,GAAD,CAAN,GAAcwB,GAAG,CAACxB,GAAD,CAAjB;AAAyB;AAAE;;AAAC2B,IAAAA,MAAM,CAACD,OAAP,GAAiBF,GAAjB;AAAsB,WAAOG,MAAP;AAAgB;AAAE;;AAE7Q,SAASG,eAAT,CAAyBC,QAAzB,EAAmC9B,WAAnC,EAAgD;AAAE,MAAI,EAAE8B,QAAQ,YAAY9B,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAI+B,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,WAAT,GAAuB;AACrB,SAAO;AACLC,IAAAA,KAAK,EAAE,CAAC,aAAD,EAAgB,QAAhB,EAA0B,cAA1B,EAA0C,WAA1C,EAAuD,SAAvD,CADF;AAELC,IAAAA,iBAAiB,EAAE,KAFd;AAGLC,IAAAA,YAAY,EAAE,SAHT;AAILC,IAAAA,kBAAkB,EAAE,YAJf;AAML;AACAC,IAAAA,MAAM,EAAE,CAAC,cAAD,CAPH;AAQLC,IAAAA,eAAe,EAAE,CAAC,QAAD,CARZ;AASL;AACA;AACAC,IAAAA,cAAc,EAAE;AAXX,GAAP;AAaD;;AAED,IAAIC,OAAO,GAAG,YAAY;AACxB,WAASA,OAAT,CAAiBC,QAAjB,EAA2B;AACzB,QAAIC,OAAO,GAAGC,SAAS,CAACjD,MAAV,GAAmB,CAAnB,IAAwBiD,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;;AAEAd,IAAAA,eAAe,CAAC,IAAD,EAAOW,OAAP,CAAf;;AAEA,SAAKK,IAAL,GAAY,kBAAZ;AACA,SAAKC,SAAL,GAAiB,EAAjB;AAEA,SAAKC,IAAL,CAAUN,QAAV,EAAoBC,OAApB;AACD;;AAEDrD,EAAAA,YAAY,CAACmD,OAAD,EAAU,CAAC;AACrBzC,IAAAA,GAAG,EAAE,MADgB;AAErBX,IAAAA,KAAK,EAAE,SAAS2D,IAAT,CAAcN,QAAd,EAAwB;AAC7B,UAAIC,OAAO,GAAGC,SAAS,CAACjD,MAAV,GAAmB,CAAnB,IAAwBiD,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,UAAIK,WAAW,GAAGL,SAAS,CAACjD,MAAV,GAAmB,CAAnB,IAAwBiD,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAtF;AAEA,WAAKF,QAAL,GAAgBA,QAAhB;AACA,WAAKC,OAAL,GAAepC,KAAK,CAAC2C,QAAN,CAAeP,OAAf,EAAwB,KAAKA,OAAL,IAAgB,EAAxC,EAA4CV,WAAW,EAAvD,CAAf,CAL6B,CAO7B;;AACA,UAAI,KAAKU,OAAL,CAAaQ,kBAAjB,EAAqC,KAAKR,OAAL,CAAaS,mBAAb,GAAmC,KAAKT,OAAL,CAAaQ,kBAAhD;AAErC,WAAKF,WAAL,GAAmBA,WAAnB;AAEA,WAAKI,WAAL,CAAiB3C,QAAQ,CAACgB,OAA1B;AACA,WAAK2B,WAAL,CAAiBxC,aAAa,CAACa,OAA/B;AACA,WAAK2B,WAAL,CAAiBtC,cAAc,CAACW,OAAhC;AACA,WAAK2B,WAAL,CAAiBpC,WAAW,CAACS,OAA7B;AACA,WAAK2B,WAAL,CAAiBlC,SAAS,CAACO,OAA3B;AACA,WAAK2B,WAAL,CAAiBhC,MAAM,CAACK,OAAxB;AACA,WAAK2B,WAAL,CAAiB9B,WAAW,CAACG,OAA7B;AACD;AArBoB,GAAD,EAsBnB;AACD1B,IAAAA,GAAG,EAAE,aADJ;AAEDX,IAAAA,KAAK,EAAE,SAASgE,WAAT,CAAqBC,QAArB,EAA+B;AACpC,WAAKP,SAAL,CAAeO,QAAQ,CAACC,IAAxB,IAAgCD,QAAhC;AACD;AAJA,GAtBmB,EA2BnB;AACDtD,IAAAA,GAAG,EAAE,QADJ;AAEDX,IAAAA,KAAK,EAAE,SAASmE,MAAT,CAAgBC,cAAhB,EAAgC;AACrC,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAI,CAACD,cAAL,EAAqBA,cAAc,GAAG,KAAKd,OAAL,CAAaT,KAA9B;AAErB,UAAIyB,QAAQ,GAAG,EAAf;AACAF,MAAAA,cAAc,CAACG,OAAf,CAAuB,UAAUC,YAAV,EAAwB;AAC7C,YAAIH,KAAK,CAACX,SAAN,CAAgBc,YAAhB,CAAJ,EAAmC;AACjC,cAAIC,MAAM,GAAGJ,KAAK,CAACX,SAAN,CAAgBc,YAAhB,EAA8BC,MAA9B,CAAqCJ,KAAK,CAACf,OAA3C,CAAb;;AACA,cAAImB,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EAA0CA,MAAM,GAAG,CAACA,MAAD,CAAT;AAC1C,cAAIA,MAAJ,EAAYH,QAAQ,GAAGA,QAAQ,CAACI,MAAT,CAAgBD,MAAhB,CAAX;AACb;AACF,OAND;AAQA,UAAIE,KAAK,GAAG,KAAK,CAAjB;AACAL,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAUK,GAAV,EAAe;AAC9B,YAAID,KAAJ,EAAW;;AACX,YAAIE,UAAU,GAAGR,KAAK,CAAChB,QAAN,CAAeyB,aAAf,CAA6BC,kBAA7B,CAAgDH,GAAhD,CAAjB;;AACA,YAAI,CAACP,KAAK,CAACf,OAAN,CAAcH,cAAf,IAAiCkB,KAAK,CAAChB,QAAN,CAAeyB,aAAf,CAA6BE,aAA7B,CAA2CH,UAA3C,CAArC,EAA6FF,KAAK,GAAGE,UAAR;AAC9F,OAJD;;AAMA,UAAI,CAACF,KAAL,EAAY;AACV,YAAIM,SAAS,GAAG,KAAKrB,WAAL,CAAiBsB,WAAjC;AACA,YAAI,OAAOD,SAAP,KAAqB,QAAzB,EAAmCA,SAAS,GAAG,CAACA,SAAD,CAAZ;AACnC,YAAI,CAACA,SAAL,EAAgBA,SAAS,GAAG,EAAZ;;AAEhB,YAAIpF,MAAM,CAACkB,SAAP,CAAiBoE,QAAjB,CAA0BC,KAA1B,CAAgCH,SAAhC,MAA+C,gBAAnD,EAAqE;AACnEN,UAAAA,KAAK,GAAGM,SAAS,CAAC,CAAD,CAAjB;AACD,SAFD,MAEO;AACLN,UAAAA,KAAK,GAAGM,SAAS,CAAC,CAAD,CAAT,IAAgBA,SAAS,CAAC5C,OAAV,IAAqB4C,SAAS,CAAC5C,OAAV,CAAkB,CAAlB,CAA7C;AACD;AACF;;AAED,aAAOsC,KAAP;AACD;AApCA,GA3BmB,EAgEnB;AACDhE,IAAAA,GAAG,EAAE,mBADJ;AAEDX,IAAAA,KAAK,EAAE,SAASqF,iBAAT,CAA2BT,GAA3B,EAAgC3B,MAAhC,EAAwC;AAC7C,UAAIqC,MAAM,GAAG,IAAb;;AAEA,UAAI,CAACrC,MAAL,EAAaA,MAAM,GAAG,KAAKK,OAAL,CAAaL,MAAtB;AACb,UAAI,CAACA,MAAL,EAAa;AACb,UAAI,KAAKK,OAAL,CAAaJ,eAAb,IAAgC,KAAKI,OAAL,CAAaJ,eAAb,CAA6BqC,OAA7B,CAAqCX,GAArC,IAA4C,CAAC,CAAjF,EAAoF;AACpF3B,MAAAA,MAAM,CAACsB,OAAP,CAAe,UAAUiB,SAAV,EAAqB;AAClC,YAAIF,MAAM,CAAC5B,SAAP,CAAiB8B,SAAjB,CAAJ,EAAiCF,MAAM,CAAC5B,SAAP,CAAiB8B,SAAjB,EAA4BH,iBAA5B,CAA8CT,GAA9C,EAAmDU,MAAM,CAAChC,OAA1D;AAClC,OAFD;AAGD;AAXA,GAhEmB,CAAV,CAAZ;;AA8EA,SAAOF,OAAP;AACD,CA3Fa,EAAd;;AA6FAA,OAAO,CAACK,IAAR,GAAe,kBAAf;AAEA1D,OAAO,CAACsC,OAAR,GAAkBe,OAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _cookie = require('./browserLookups/cookie.js');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _querystring = require('./browserLookups/querystring.js');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _localStorage = require('./browserLookups/localStorage.js');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _navigator = require('./browserLookups/navigator.js');\n\nvar _navigator2 = _interopRequireDefault(_navigator);\n\nvar _htmlTag = require('./browserLookups/htmlTag.js');\n\nvar _htmlTag2 = _interopRequireDefault(_htmlTag);\n\nvar _path = require('./browserLookups/path.js');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _subdomain = require('./browserLookups/subdomain.js');\n\nvar _subdomain2 = _interopRequireDefault(_subdomain);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'],\n    //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n    checkWhitelist: true\n  };\n}\n\nvar Browser = function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults());\n\n      // backwards compatibility\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n\n      this.i18nOptions = i18nOptions;\n\n      this.addDetector(_cookie2.default);\n      this.addDetector(_querystring2.default);\n      this.addDetector(_localStorage2.default);\n      this.addDetector(_navigator2.default);\n      this.addDetector(_htmlTag2.default);\n      this.addDetector(_path2.default);\n      this.addDetector(_subdomain2.default);\n    }\n  }, {\n    key: 'addDetector',\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: 'detect',\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n\n      var found = void 0;\n      detected.forEach(function (lng) {\n        if (found) return;\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n        if (!_this.options.checkWhitelist || _this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found) {\n        var fallbacks = this.i18nOptions.fallbackLng;\n        if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n        if (!fallbacks) fallbacks = [];\n\n        if (Object.prototype.toString.apply(fallbacks) === '[object Array]') {\n          found = fallbacks[0];\n        } else {\n          found = fallbacks[0] || fallbacks.default && fallbacks.default[0];\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: 'cacheUserLanguage',\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\n\nexports.default = Browser;"]},"metadata":{},"sourceType":"script"}