/*! For license information please see 726.a6fa00bf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkinterface=self.webpackChunkinterface||[]).push([[726],{45726:function(t,r,n){n.r(r),n.d(r,{encodeToCurve:function(){return br},hashToCurve:function(){return mr},schnorr:function(){return yr},secp256k1:function(){return Jt}});var e={};n.r(e),n.d(e,{bitGet:function(){return X},bitLen:function(){return W},bitMask:function(){return Q},bitSet:function(){return J},bytesToHex:function(){return H},bytesToNumberBE:function(){return V},bytesToNumberLE:function(){return F},concatBytes:function(){return M},createHmacDrbg:function(){return rt},ensureBytes:function(){return j},equalBytes:function(){return Y},hexToBytes:function(){return D},hexToNumber:function(){return P},numberToBytesBE:function(){return _},numberToBytesLE:function(){return z},numberToHexUnpadded:function(){return C},numberToVarBytesBE:function(){return K},utf8ToBytes:function(){return G},validateObject:function(){return et}});var i=n(15671),o=n(43144),a=n(60136),u=n(29388),f=n(93433);function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Wrong positive integer: ".concat(t))}function c(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];if(n.length>0&&!n.includes(t.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(t.length))}var h={number:s,bool:function(t){if("boolean"!==typeof t)throw new Error("Expected boolean, not ".concat(t))},bytes:c,hash:function(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");s(t.outputLen),s(t.blockLen)},exists:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.destroyed)throw new Error("Hash instance has been destroyed");if(r&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,r){c(t);var n=r.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},d=h,l="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,v=function(t){return t instanceof Uint8Array},y=function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)},g=function(t,r){return t<<32-r|t>>>r};if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(function(t,r){return r.toString(16).padStart(2,"0")}));function p(t){if("string"===typeof t&&(t=function(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got ".concat(typeof t));return new Uint8Array((new TextEncoder).encode(t))}(t)),!v(t))throw new Error("expected Uint8Array, got ".concat(typeof t));return t}function w(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var e=new Uint8Array(r.reduce((function(t,r){return t+r.length}),0)),i=0;return r.forEach((function(t){if(!v(t))throw new Error("Uint8Array expected");e.set(t,i),i+=t.length})),e}var m=function(){function t(){(0,i.Z)(this,t)}return(0,o.Z)(t,[{key:"clone",value:function(){return this._cloneInto()}}]),t}();function b(t){var r=function(r){return t().update(p(r)).digest()},n=t();return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=function(){return t()},r}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(l&&"function"===typeof l.getRandomValues)return l.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var B=function(t){(0,a.Z)(n,t);var r=(0,u.Z)(n);function n(t,e,o,a){var u;return(0,i.Z)(this,n),(u=r.call(this)).blockLen=t,u.outputLen=e,u.padOffset=o,u.isLE=a,u.finished=!1,u.length=0,u.pos=0,u.destroyed=!1,u.buffer=new Uint8Array(t),u.view=y(u.buffer),u}return(0,o.Z)(n,[{key:"update",value:function(t){d.exists(this);for(var r=this.view,n=this.buffer,e=this.blockLen,i=(t=p(t)).length,o=0;o<i;){var a=Math.min(e-this.pos,i-o);if(a!==e)n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===e&&(this.process(r,0),this.pos=0);else for(var u=y(t);e<=i-o;o+=e)this.process(u,o)}return this.length+=t.length,this.roundClean(),this}},{key:"digestInto",value:function(t){d.exists(this),d.output(t,this),this.finished=!0;var r=this.buffer,n=this.view,e=this.blockLen,i=this.isLE,o=this.pos;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>e-o&&(this.process(n,0),o=0);for(var a=o;a<e;a++)r[a]=0;!function(t,r,n,e){if("function"===typeof t.setBigUint64)return t.setBigUint64(r,n,e);var i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),u=Number(n&o),f=e?4:0,s=e?0:4;t.setUint32(r+f,a,e),t.setUint32(r+s,u,e)}(n,e-8,BigInt(8*this.length),i),this.process(n,0);var u=y(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var s=f/4,c=this.get();if(s>c.length)throw new Error("_sha2: outputLen bigger than state");for(var h=0;h<s;h++)u.setUint32(4*h,c[h],i)}},{key:"digest",value:function(){var t=this.buffer,r=this.outputLen;this.digestInto(t);var n=t.slice(0,r);return this.destroy(),n}},{key:"_cloneInto",value:function(t){var r;t||(t=new this.constructor),(r=t).set.apply(r,(0,f.Z)(this.get()));var n=this.blockLen,e=this.buffer,i=this.length,o=this.finished,a=this.destroyed,u=this.pos;return t.length=i,t.pos=u,t.finished=o,t.destroyed=a,i%n&&t.buffer.set(e),t}}]),n}(m),x=function(t,r,n){return t&r^t&n^r&n},A=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),I=new Uint32Array(64),k=function(t){(0,a.Z)(n,t);var r=(0,u.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=r.call(this,64,32,8,!1)).A=0|S[0],t.B=0|S[1],t.C=0|S[2],t.D=0|S[3],t.E=0|S[4],t.F=0|S[5],t.G=0|S[6],t.H=0|S[7],t}return(0,o.Z)(n,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(t,r,n,e,i,o,a,u){this.A=0|t,this.B=0|r,this.C=0|n,this.D=0|e,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|u}},{key:"process",value:function(t,r){for(var n=0;n<16;n++,r+=4)I[n]=t.getUint32(r,!1);for(var e=16;e<64;e++){var i=I[e-15],o=I[e-2],a=g(i,7)^g(i,18)^i>>>3,u=g(o,17)^g(o,19)^o>>>10;I[e]=u+I[e-7]+a+I[e-16]|0}for(var f,s=this.A,c=this.B,h=this.C,d=this.D,l=this.E,v=this.F,y=this.G,p=this.H,w=0;w<64;w++){var m=p+(g(l,6)^g(l,11)^g(l,25))+((f=l)&v^~f&y)+A[w]+I[w]|0,b=(g(s,2)^g(s,13)^g(s,22))+x(s,c,h)|0;p=y,y=v,v=l,l=d+m|0,d=h,h=c,c=s,s=m+b|0}s=s+this.A|0,c=c+this.B|0,h=h+this.C|0,d=d+this.D|0,l=l+this.E|0,v=v+this.F|0,y=y+this.G|0,p=p+this.H|0,this.set(s,c,h,d,l,v,y,p)}},{key:"roundClean",value:function(){I.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}]),n}(B),O=function(t){(0,a.Z)(n,t);var r=(0,u.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=r.call(this)).A=-1056596264,t.B=914150663,t.C=812702999,t.D=-150054599,t.E=-4191439,t.F=1750603025,t.G=1694076839,t.H=-1090891868,t.outputLen=28,t}return(0,o.Z)(n)}(k),Z=b((function(){return new k})),R=(b((function(){return new O})),n(29439)),T=BigInt(0),U=BigInt(1),q=BigInt(2),L=function(t){return t instanceof Uint8Array},N=Array.from({length:256},(function(t,r){return r.toString(16).padStart(2,"0")}));function H(t){if(!L(t))throw new Error("Uint8Array expected");for(var r="",n=0;n<t.length;n++)r+=N[t[n]];return r}function C(t){var r=t.toString(16);return 1&r.length?"0".concat(r):r}function P(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":"0x".concat(t))}function D(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);var r=t.length;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);for(var n=new Uint8Array(r/2),e=0;e<n.length;e++){var i=2*e,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[e]=a}return n}function V(t){return P(H(t))}function F(t){if(!L(t))throw new Error("Uint8Array expected");return P(H(Uint8Array.from(t).reverse()))}function _(t,r){return D(t.toString(16).padStart(2*r,"0"))}function z(t,r){return _(t,r).reverse()}function K(t){return D(C(t))}function j(t,r,n){var e;if("string"===typeof r)try{e=D(r)}catch(o){throw new Error("".concat(t,' must be valid hex string, got "').concat(r,'". Cause: ').concat(o))}else{if(!L(r))throw new Error("".concat(t," must be hex string or Uint8Array"));e=Uint8Array.from(r)}var i=e.length;if("number"===typeof n&&i!==n)throw new Error("".concat(t," expected ").concat(n," bytes, got ").concat(i));return e}function M(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var e=new Uint8Array(r.reduce((function(t,r){return t+r.length}),0)),i=0;return r.forEach((function(t){if(!L(t))throw new Error("Uint8Array expected");e.set(t,i),i+=t.length})),e}function Y(t,r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function G(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got ".concat(typeof t));return new Uint8Array((new TextEncoder).encode(t))}function W(t){var r;for(r=0;t>T;t>>=U,r+=1);return r}function X(t,r){return t>>BigInt(r)&U}var J=function(t,r,n){return t|(n?U:T)<<BigInt(r)},Q=function(t){return(q<<BigInt(t-1))-U},$=function(t){return new Uint8Array(t)},tt=function(t){return Uint8Array.from(t)};function rt(t,r,n){if("number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");var e=$(t),i=$(t),o=0,a=function(){e.fill(1),i.fill(0),o=0},u=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.apply(void 0,[i,e].concat(r))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$();i=u(tt([0]),t),e=u(),0!==t.length&&(i=u(tt([1]),t),e=u())},s=function(){if(o++>=1e3)throw new Error("drbg: tried 1000 values");for(var t=0,n=[];t<r;){var i=(e=u()).slice();n.push(i),t+=e.length}return M.apply(void 0,n)};return function(t,r){a(),f(t);for(var n=void 0;!(n=r(s()));)f();return a(),n}}var nt={bigint:function(t){return"bigint"===typeof t},function:function(t){return"function"===typeof t},boolean:function(t){return"boolean"===typeof t},string:function(t){return"string"===typeof t},isSafeInteger:function(t){return Number.isSafeInteger(t)},array:function(t){return Array.isArray(t)},field:function(t,r){return r.Fp.isValid(t)},hash:function(t){return"function"===typeof t&&Number.isSafeInteger(t.outputLen)}};function et(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=function(r,n,e){var i=nt[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));var o=t[r];if((!e||void 0!==o)&&!i(o,t))throw new Error("Invalid param ".concat(String(r),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))},i=0,o=Object.entries(r);i<o.length;i++){var a=(0,R.Z)(o[i],2);e(a[0],a[1],!1)}for(var u=0,f=Object.entries(n);u<f.length;u++){var s=(0,R.Z)(f[u],2);e(s[0],s[1],!0)}return t}var it=BigInt(0),ot=BigInt(1),at=BigInt(2),ut=BigInt(3),ft=BigInt(4),st=BigInt(5),ct=BigInt(8);BigInt(9),BigInt(16);function ht(t,r){var n=t%r;return n>=it?n:r+n}function dt(t,r,n){if(n<=it||r<it)throw new Error("Expected power/modulo > 0");if(n===ot)return it;for(var e=ot;r>it;)r&ot&&(e=e*t%n),t=t*t%n,r>>=ot;return e}function lt(t,r,n){for(var e=t;r-- >it;)e*=e,e%=n;return e}function vt(t,r){if(t===it||r<=it)throw new Error("invert: expected positive integers, got n=".concat(t," mod=").concat(r));for(var n=ht(t,r),e=r,i=it,o=ot,a=ot,u=it;n!==it;){var f=e/n,s=e%n,c=i-a*f,h=o-u*f;e=n,n=s,i=a,o=u,a=c,u=h}if(e!==ot)throw new Error("invert: does not exist");return ht(i,r)}function yt(t){if(t%ft===ut){var r=(t+ot)/ft;return function(t,n){var e=t.pow(n,r);if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root");return e}}if(t%ct===st){var n=(t-st)/ct;return function(t,r){var e=t.mul(r,at),i=t.pow(e,n),o=t.mul(r,i),a=t.mul(t.mul(o,at),i),u=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(u),r))throw new Error("Cannot find square root");return u}}return function(t){var r,n,e,i=(t-ot)/at;for(r=t-ot,n=0;r%at===it;r/=at,n++);for(e=at;e<t&&dt(e,i,t)!==t-ot;e++);if(1===n){var o=(t+ot)/ft;return function(t,r){var n=t.pow(r,o);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}var a=(r+ot)/at;return function(t,o){if(t.pow(o,i)===t.neg(t.ONE))throw new Error("Cannot find square root");for(var u=n,f=t.pow(t.mul(t.ONE,e),r),s=t.pow(o,a),c=t.pow(o,r);!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;for(var h=1,d=t.sqr(c);h<u&&!t.eql(d,t.ONE);h++)d=t.sqr(d);var l=t.pow(f,ot<<BigInt(u-h-1));f=t.sqr(l),s=t.mul(s,l),c=t.mul(c,f),u=h}return s}}(t)}var gt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pt(t){return et(t,gt.reduce((function(t,r){return t[r]="function",t}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function wt(t,r){var n=void 0!==r?r:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}var mt=n(98737),bt=n(1413),Et=BigInt(0),Bt=BigInt(1);function xt(t){return pt(t.Fp),et(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,bt.Z)((0,bt.Z)((0,bt.Z)({},wt(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}var At=V,St=D,It={Err:function(t){(0,a.Z)(n,t);var r=(0,u.Z)(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.Z)(this,n),r.call(this,t)}return(0,o.Z)(n)}((0,mt.Z)(Error)),_parseInt:function(t){var r=It.Err;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");var n=t[1],e=t.subarray(2,n+2);if(!n||e.length!==n)throw new r("Invalid signature integer: wrong length");if(128&e[0])throw new r("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:At(e),l:t.subarray(n+2)}},toSig:function(t){var r=It.Err,n="string"===typeof t?St(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");var e=n.length;if(e<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==e-2)throw new r("Invalid signature: incorrect length");var i=It._parseInt(n.subarray(2)),o=i.d,a=i.l,u=It._parseInt(a),f=u.d;if(u.l.length)throw new r("Invalid signature: left bytes after parsing");return{r:o,s:f}},hexFromSig:function(t){var r=function(t){return 8&Number.parseInt(t[0],16)?"00"+t:t},n=function(t){var r=t.toString(16);return 1&r.length?"0".concat(r):r},e=r(n(t.s)),i=r(n(t.r)),o=e.length/2,a=i.length/2,u=n(o),f=n(a);return"30".concat(n(a+o+4),"02").concat(f).concat(i,"02").concat(u).concat(e)}},kt=BigInt(0),Ot=BigInt(1),Zt=BigInt(2),Rt=BigInt(3),Tt=BigInt(4);function Ut(t){var r=function(t){var r=xt(t);et(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=r.endo,e=r.Fp,i=r.a;if(n){if(!e.eql(i,e.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,bt.Z)({},r))}(t),n=r.Fp,e=r.toBytes||function(t,r,e){var i=r.toAffine();return M(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))},a=r.fromBytes||function(t){var r=t.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}};function u(t){var e=r.a,i=r.b,o=n.sqr(t),a=n.mul(o,t);return n.add(n.add(a,n.mul(t,e)),i)}if(!n.eql(n.sqr(r.Gy),u(r.Gx)))throw new Error("bad generator point: equation left != right");function f(t){return"bigint"===typeof t&&kt<t&&t<r.n}function s(t){if(!f(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(t){var n,e=r.allowedPrivateKeyLengths,i=r.nByteLength,o=r.wrapPrivateKey,a=r.n;if(e&&"bigint"!==typeof t){if(t instanceof Uint8Array&&(t=H(t)),"string"!==typeof t||!e.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*i,"0")}try{n="bigint"===typeof t?t:V(j("private key",t,i))}catch(u){throw new Error("private key must be ".concat(i," bytes, hex or bigint, not ").concat(typeof t))}return o&&(n=ht(n,a)),s(n),n}var h=new Map;function d(t){if(!(t instanceof l))throw new Error("ProjectivePoint expected")}var l=function(){function t(r,e,o){if((0,i.Z)(this,t),this.px=r,this.py=e,this.pz=o,null==r||!n.isValid(r))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==o||!n.isValid(o))throw new Error("z required")}return(0,o.Z)(t,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(t){this._WINDOW_SIZE=t,h.delete(this)}},{key:"assertValidity",value:function(){if(this.is0()){if(r.allowInfinityPoint)return;throw new Error("bad point: ZERO")}var t=this.toAffine(),e=t.x,i=t.y;if(!n.isValid(e)||!n.isValid(i))throw new Error("bad point: x or y not FE");var o=n.sqr(i),a=u(e);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}},{key:"hasEvenY",value:function(){var t=this.toAffine().y;if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(t){d(t);var r=this.px,e=this.py,i=this.pz,o=t.px,a=t.py,u=t.pz,f=n.eql(n.mul(r,u),n.mul(o,i)),s=n.eql(n.mul(e,u),n.mul(a,i));return f&&s}},{key:"negate",value:function(){return new t(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var e=r.a,i=r.b,o=n.mul(i,Rt),a=this.px,u=this.py,f=this.pz,s=n.ZERO,c=n.ZERO,h=n.ZERO,d=n.mul(a,a),l=n.mul(u,u),v=n.mul(f,f),y=n.mul(a,u);return y=n.add(y,y),h=n.mul(a,f),h=n.add(h,h),s=n.mul(e,h),c=n.mul(o,v),c=n.add(s,c),s=n.sub(l,c),c=n.add(l,c),c=n.mul(s,c),s=n.mul(y,s),h=n.mul(o,h),v=n.mul(e,v),y=n.sub(d,v),y=n.mul(e,y),y=n.add(y,h),h=n.add(d,d),d=n.add(h,d),d=n.add(d,v),d=n.mul(d,y),c=n.add(c,d),v=n.mul(u,f),v=n.add(v,v),d=n.mul(v,y),s=n.sub(s,d),h=n.mul(v,l),h=n.add(h,h),new t(s,c,h=n.add(h,h))}},{key:"add",value:function(e){d(e);var i=this.px,o=this.py,a=this.pz,u=e.px,f=e.py,s=e.pz,c=n.ZERO,h=n.ZERO,l=n.ZERO,v=r.a,y=n.mul(r.b,Rt),g=n.mul(i,u),p=n.mul(o,f),w=n.mul(a,s),m=n.add(i,o),b=n.add(u,f);m=n.mul(m,b),b=n.add(g,p),m=n.sub(m,b),b=n.add(i,a);var E=n.add(u,s);return b=n.mul(b,E),E=n.add(g,w),b=n.sub(b,E),E=n.add(o,a),c=n.add(f,s),E=n.mul(E,c),c=n.add(p,w),E=n.sub(E,c),l=n.mul(v,b),c=n.mul(y,w),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),h=n.mul(c,l),p=n.add(g,g),p=n.add(p,g),w=n.mul(v,w),b=n.mul(y,b),p=n.add(p,w),w=n.sub(g,w),w=n.mul(v,w),b=n.add(b,w),g=n.mul(p,b),h=n.add(h,g),g=n.mul(E,b),c=n.mul(m,c),c=n.sub(c,g),g=n.mul(m,p),l=n.mul(E,l),new t(c,h,l=n.add(l,g))}},{key:"subtract",value:function(t){return this.add(t.negate())}},{key:"is0",value:function(){return this.equals(t.ZERO)}},{key:"wNAF",value:function(r){return y.wNAFCached(this,h,r,(function(r){var e=n.invertBatch(r.map((function(t){return t.pz})));return r.map((function(t,r){return t.toAffine(e[r])})).map(t.fromAffine)}))}},{key:"multiplyUnsafe",value:function(e){var i=t.ZERO;if(e===kt)return i;if(s(e),e===Ot)return this;var o=r.endo;if(!o)return y.unsafeLadder(this,e);for(var a=o.splitScalar(e),u=a.k1neg,f=a.k1,c=a.k2neg,h=a.k2,d=i,l=i,v=this;f>kt||h>kt;)f&Ot&&(d=d.add(v)),h&Ot&&(l=l.add(v)),v=v.double(),f>>=Ot,h>>=Ot;return u&&(d=d.negate()),c&&(l=l.negate()),l=new t(n.mul(l.px,o.beta),l.py,l.pz),d.add(l)}},{key:"multiply",value:function(e){s(e);var i,o,a=e,u=r.endo;if(u){var f=u.splitScalar(a),c=f.k1neg,h=f.k1,d=f.k2neg,l=f.k2,v=this.wNAF(h),g=v.p,p=v.f,w=this.wNAF(l),m=w.p,b=w.f;g=y.constTimeNegate(c,g),m=y.constTimeNegate(d,m),m=new t(n.mul(m.px,u.beta),m.py,m.pz),i=g.add(m),o=p.add(b)}else{var E=this.wNAF(a);i=E.p,o=E.f}return t.normalizeZ([i,o])[0]}},{key:"multiplyAndAddUnsafe",value:function(r,n,e){var i=t.BASE,o=function(t,r){return r!==kt&&r!==Ot&&t.equals(i)?t.multiply(r):t.multiplyUnsafe(r)},a=o(this,n).add(o(r,e));return a.is0()?void 0:a}},{key:"toAffine",value:function(t){var r=this.px,e=this.py,i=this.pz,o=this.is0();null==t&&(t=o?n.ONE:n.inv(i));var a=n.mul(r,t),u=n.mul(e,t),f=n.mul(i,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(f,n.ONE))throw new Error("invZ was invalid");return{x:a,y:u}}},{key:"isTorsionFree",value:function(){var n=r.h,e=r.isTorsionFree;if(n===Ot)return!0;if(e)return e(t,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var n=r.h,e=r.clearCofactor;return n===Ot?this:e?e(t,this):this.multiplyUnsafe(r.h)}},{key:"toRawBytes",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),e(t,this,r)}},{key:"toHex",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return H(this.toRawBytes(t))}}],[{key:"fromAffine",value:function(r){var e=r||{},i=e.x,o=e.y;if(!r||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(r instanceof t)throw new Error("projective point not allowed");var a=function(t){return n.eql(t,n.ZERO)};return a(i)&&a(o)?t.ZERO:new t(i,o,n.ONE)}},{key:"normalizeZ",value:function(r){var e=n.invertBatch(r.map((function(t){return t.pz})));return r.map((function(t,r){return t.toAffine(e[r])})).map(t.fromAffine)}},{key:"fromHex",value:function(r){var n=t.fromAffine(a(j("pointHex",r)));return n.assertValidity(),n}},{key:"fromPrivateKey",value:function(r){return t.BASE.multiply(c(r))}}]),t}();l.BASE=new l(r.Gx,r.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);var v=r.nBitLength,y=function(t,r){var n=function(t,r){var n=r.negate();return t?n:r},e=function(t){return{windows:Math.ceil(r/t)+1,windowSize:Math.pow(2,t-1)}};return{constTimeNegate:n,unsafeLadder:function(r,n){for(var e=t.ZERO,i=r;n>Et;)n&Bt&&(e=e.add(i)),i=i.double(),n>>=Bt;return e},precomputeWindow:function(t,r){for(var n=e(r),i=n.windows,o=n.windowSize,a=[],u=t,f=u,s=0;s<i;s++){f=u,a.push(f);for(var c=1;c<o;c++)f=f.add(u),a.push(f);u=f.double()}return a},wNAF:function(r,i,o){for(var a=e(r),u=a.windows,f=a.windowSize,s=t.ZERO,c=t.BASE,h=BigInt(Math.pow(2,r)-1),d=Math.pow(2,r),l=BigInt(r),v=0;v<u;v++){var y=v*f,g=Number(o&h);o>>=l,g>f&&(g-=d,o+=Bt);var p=y,w=y+Math.abs(g)-1,m=v%2!==0,b=g<0;0===g?c=c.add(n(m,i[p])):s=s.add(n(b,i[w]))}return{p:s,f:c}},wNAFCached:function(t,r,n,e){var i=t._WINDOW_SIZE||1,o=r.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&r.set(t,e(o))),this.wNAF(i,o,n)}}}(l,r.endo?Math.ceil(v/2):v);return{CURVE:r,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:f}}function qt(t){var r=function(t){var r=xt(t);return et(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,bt.Z)({lowS:!0},r))}(t),n=r.Fp,a=r.n,u=n.BYTES+1,f=2*n.BYTES+1;function s(t){return ht(t,a)}function c(t){return vt(t,a)}var h=Ut((0,bt.Z)((0,bt.Z)({},r),{},{toBytes:function(t,r,e){var i=r.toAffine(),o=n.toBytes(i.x),a=M;return e?a(Uint8Array.from([r.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes:function(t){var r=t.length,e=t[0],i=t.subarray(1);if(r!==u||2!==e&&3!==e){if(r===f&&4===e)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("Point of length ".concat(r," was invalid. Expected ").concat(u," compressed bytes or ").concat(f," uncompressed bytes"))}var o=V(i);if(!(kt<(a=o)&&a<n.ORDER))throw new Error("Point is not on curve");var a,s=v(o),c=n.sqrt(s);return 1===(1&e)!==((c&Ot)===Ot)&&(c=n.neg(c)),{x:o,y:c}}})),d=h.ProjectivePoint,l=h.normPrivateKeyToScalar,v=h.weierstrassEquation,y=h.isWithinCurveOrder,g=function(t){return H(_(t,r.nByteLength))};function p(t){return t>a>>Ot}var w=function(t,r,n){return V(t.slice(r,n))},m=function(){function t(r,n,e){(0,i.Z)(this,t),this.r=r,this.s=n,this.recovery=e,this.assertValidity()}return(0,o.Z)(t,[{key:"assertValidity",value:function(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}},{key:"addRecoveryBit",value:function(r){return new t(this.r,this.s,r)}},{key:"recoverPublicKey",value:function(t){var e=this.r,i=this.s,o=this.recovery,a=x(j("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");var u=2===o||3===o?e+r.n:e;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");var f=0===(1&o)?"02":"03",h=d.fromHex(f+g(u)),l=c(u),v=s(-a*l),y=s(i*l),p=d.BASE.multiplyAndAddUnsafe(h,v,y);if(!p)throw new Error("point at infinify");return p.assertValidity(),p}},{key:"hasHighS",value:function(){return p(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new t(this.r,s(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return D(this.toDERHex())}},{key:"toDERHex",value:function(){return It.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return D(this.toCompactHex())}},{key:"toCompactHex",value:function(){return g(this.r)+g(this.s)}}],[{key:"fromCompact",value:function(n){var e=r.nByteLength;return n=j("compactSignature",n,2*e),new t(w(n,0,e),w(n,e,2*e))}},{key:"fromDER",value:function(r){var n=It.toSig(j("DER",r));return new t(n.r,n.s)}}]),t}(),b={isValidPrivateKey:function(t){try{return l(t),!0}catch(r){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:function(){var t=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=(t=j("privateHash",t)).length,i=wt(r).nByteLength+8;if(i<24||e<i||e>1024)throw new Error("hashToPrivateScalar: expected ".concat(i,"-1024 bytes of input, got ").concat(e));return ht(n?F(t):V(t),r-ot)+ot}(r.randomBytes(n.BYTES+8),a);return _(t,r.nByteLength)},precompute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.BASE;return r._setWindowSize(t),r.multiply(BigInt(3)),r}};function E(t){var r=t instanceof Uint8Array,n="string"===typeof t,e=(r||n)&&t.length;return r?e===u||e===f:n?e===2*u||e===2*f:t instanceof d}var B=r.bits2int||function(t){var n=V(t),e=8*t.length-r.nBitLength;return e>0?n>>BigInt(e):n},x=r.bits2int_modN||function(t){return s(B(t))},A=Q(r.nBitLength);function S(t){if("bigint"!==typeof t)throw new Error("bigint expected");if(!(kt<=t&&t<A))throw new Error("bigint expected < 2^".concat(r.nBitLength));return _(t,r.nByteLength)}function I(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(["recovered","canonical"].some((function(t){return t in o})))throw new Error("sign() legacy options not supported");var a=r.hash,u=r.randomBytes,f=o.lowS,h=o.prehash,v=o.extraEntropy;null==f&&(f=!0),t=j("msgHash",t),h&&(t=j("prehashed msgHash",a(t)));var g=x(t),w=l(i),b=[S(w),S(g)];if(null!=v){var E=!0===v?u(n.BYTES):v;b.push(j("extraEntropy",E,n.BYTES))}var A=M.apply(e,b),I=g;return{seed:A,k2sig:function(t){var r=B(t);if(y(r)){var n=c(r),e=d.BASE.multiply(r).toAffine(),i=s(e.x);if(i!==kt){var o=s(n*s(I+i*w));if(o!==kt){var a=(e.x===i?0:2)|Number(e.y&Ot),u=o;return f&&p(o)&&(u=function(t){return p(t)?s(-t):t}(o),a^=1),new m(i,u,a)}}}}}}var k={lowS:r.lowS,prehash:!1},O={lowS:r.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d.fromPrivateKey(t).toRawBytes(r)},getSharedSecret:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(E(t))throw new Error("first arg must be private key");if(!E(r))throw new Error("second arg must be public key");return d.fromHex(r).multiply(l(t)).toRawBytes(n)},sign:function(t,n){var e=I(t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:k),i=e.seed,o=e.k2sig,a=r;return rt(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(t,n,e){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O,a=t;if(n=j("msgHash",n),e=j("publicKey",e),"strict"in o)throw new Error("options.strict was renamed to lowS");var u,f=o.lowS,h=o.prehash,l=void 0;try{if("string"===typeof a||a instanceof Uint8Array)try{l=m.fromDER(a)}catch(I){if(!(I instanceof It.Err))throw I;l=m.fromCompact(a)}else{if("object"!==typeof a||"bigint"!==typeof a.r||"bigint"!==typeof a.s)throw new Error("PARSE");var v=a.r,y=a.s;l=new m(v,y)}u=d.fromHex(e)}catch(k){if("PARSE"===k.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&l.hasHighS())return!1;h&&(n=r.hash(n));var g=l,p=g.r,w=g.s,b=x(n),E=c(w),B=s(b*E),A=s(p*E),S=null===(i=d.BASE.multiplyAndAddUnsafe(u,B,A))||void 0===i?void 0:i.toAffine();return!!S&&s(S.x)===p},ProjectivePoint:d,Signature:m,utils:b}}function Lt(t,r){if(pt(t),!t.isValid(r.A)||!t.isValid(r.B)||!t.isValid(r.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");var n=function(t,r){for(var n=t.ORDER,e=kt,i=n-Ot;i%Zt===kt;i/=Zt)e+=Ot;var o=e,a=Zt<<o-Ot-Ot,u=a*Zt,f=(n-Ot)/u,s=(f-Ot)/Zt,c=u-Ot,h=a,d=t.pow(r,f),l=t.pow(r,(f+Ot)/Zt),v=function(r,n){var e=d,i=t.pow(n,c),a=t.sqr(i);a=t.mul(a,n);var u=t.mul(r,a);u=t.pow(u,s),u=t.mul(u,i),i=t.mul(u,n),a=t.mul(u,r);var f=t.mul(a,i);u=t.pow(f,h);var v=t.eql(u,t.ONE);i=t.mul(a,l),u=t.mul(f,e),a=t.cmov(i,a,v),f=t.cmov(u,f,v);for(var y=o;y>Ot;y--){var g=y-Zt;g=Zt<<g-Ot;var p=t.pow(f,g),w=t.eql(p,t.ONE);i=t.mul(a,e),e=t.mul(e,e),p=t.mul(f,e),a=t.cmov(i,a,w),f=t.cmov(p,f,w)}return{isValid:v,value:a}};if(t.ORDER%Tt===Rt){var y=(t.ORDER-Rt)/Tt,g=t.sqrt(t.neg(r));v=function(r,n){var e=t.sqr(n),i=t.mul(r,n);e=t.mul(e,i);var o=t.pow(e,y);o=t.mul(o,i);var a=t.mul(o,g),u=t.mul(t.sqr(o),n),f=t.eql(u,r);return{isValid:f,value:t.cmov(a,o,f)}}}return v}(t,r.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return function(e){var i,o,a,u,f,s,c,h;i=t.sqr(e),i=t.mul(i,r.Z),o=t.sqr(i),o=t.add(o,i),a=t.add(o,t.ONE),a=t.mul(a,r.B),u=t.cmov(r.Z,t.neg(o),!t.eql(o,t.ZERO)),u=t.mul(u,r.A),o=t.sqr(a),s=t.sqr(u),f=t.mul(s,r.A),o=t.add(o,f),o=t.mul(o,a),s=t.mul(s,u),f=t.mul(s,r.B),o=t.add(o,f),c=t.mul(i,a);var d=n(o,s),l=d.isValid,v=d.value;h=t.mul(i,e),h=t.mul(h,v),c=t.cmov(c,a,l),h=t.cmov(h,v,l);var y=t.isOdd(e)===t.isOdd(h);return h=t.cmov(t.neg(h),h,y),{x:c=t.div(c,u),y:h}}}var Nt=V;function Ht(t,r){if(t<0||t>=1<<8*r)throw new Error("bad I2OSP call: value=".concat(t," length=").concat(r));for(var n=Array.from({length:r}).fill(0),e=r-1;e>=0;e--)n[e]=255&t,t>>>=8;return new Uint8Array(n)}function Ct(t,r){for(var n=new Uint8Array(t.length),e=0;e<t.length;e++)n[e]=t[e]^r[e];return n}function Pt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function Dt(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Vt(t,r,n){et(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});var e=n.p,i=n.k,o=n.m,a=n.hash,u=n.expand,f=n.DST;Pt(t),Dt(r);var s,c=function(t){if(t instanceof Uint8Array)return t;if("string"===typeof t)return G(t);throw new Error("DST must be Uint8Array or string")}(f),h=e.toString(2).length,d=Math.ceil((h+i)/8),l=r*o*d;if("xmd"===u)s=function(t,r,n,e){Pt(t),Pt(r),Dt(n),r.length>255&&(r=e(M(G("H2C-OVERSIZE-DST-"),r)));var i=e.outputLen,o=e.blockLen,a=Math.ceil(n/i);if(a>255)throw new Error("Invalid xmd length");var u=M(r,Ht(r.length,1)),f=Ht(0,o),s=Ht(n,2),c=new Array(a),h=e(M(f,t,s,Ht(0,1),u));c[0]=e(M(h,Ht(1,1),u));for(var d=1;d<=a;d++){var l=[Ct(h,c[d-1]),Ht(d+1,1),u];c[d]=e(M.apply(void 0,l))}return M.apply(void 0,c).slice(0,n)}(t,c,l,a);else if("xof"===u)s=function(t,r,n,e,i){if(Pt(t),Pt(r),Dt(n),r.length>255){var o=Math.ceil(2*e/8);r=i.create({dkLen:o}).update(G("H2C-OVERSIZE-DST-")).update(r).digest()}if(n>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(Ht(n,2)).update(r).update(Ht(r.length,1)).digest()}(t,c,l,i,a);else{if("_internal_pass"!==u)throw new Error('expand must be "xmd" or "xof"');s=t}for(var v=new Array(r),y=0;y<r;y++){for(var g=new Array(o),p=0;p<o;p++){var w=d*(p+y*o),m=s.subarray(w,w+d);g[p]=ht(Nt(m),e)}v[y]=g}return v}var Ft=function(t){(0,a.Z)(n,t);var r=(0,u.Z)(n);function n(t,e){var o;(0,i.Z)(this,n),(o=r.call(this)).finished=!1,o.destroyed=!1,d.hash(t);var a=p(e);if(o.iHash=t.create(),"function"!==typeof o.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");o.blockLen=o.iHash.blockLen,o.outputLen=o.iHash.outputLen;var u=o.blockLen,f=new Uint8Array(u);f.set(a.length>u?t.create().update(a).digest():a);for(var s=0;s<f.length;s++)f[s]^=54;o.iHash.update(f),o.oHash=t.create();for(var c=0;c<f.length;c++)f[c]^=106;return o.oHash.update(f),f.fill(0),o}return(0,o.Z)(n,[{key:"update",value:function(t){return d.exists(this),this.iHash.update(t),this}},{key:"digestInto",value:function(t){d.exists(this),d.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}},{key:"digest",value:function(){var t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}},{key:"_cloneInto",value:function(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));var r=this.oHash,n=this.iHash,e=this.finished,i=this.destroyed,o=this.blockLen,a=this.outputLen;return t.finished=e,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(m),_t=function(t,r,n){return new Ft(t,r).update(n).digest()};function zt(t){return{hash:t,hmac:function(r){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return _t(t,r,w.apply(void 0,e))},randomBytes:E}}_t.create=function(t,r){return new Ft(t,r)};var Kt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mt=BigInt(1),Yt=BigInt(2),Gt=function(t,r){return(t+r/Yt)/r};function Wt(t){var r=Kt,n=BigInt(3),e=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),u=BigInt(44),f=BigInt(88),s=t*t*t%r,c=s*s*t%r,h=lt(c,n,r)*c%r,d=lt(h,n,r)*c%r,l=lt(d,Yt,r)*s%r,v=lt(l,i,r)*l%r,y=lt(v,o,r)*v%r,g=lt(y,u,r)*y%r,p=lt(g,f,r)*g%r,w=lt(p,u,r)*y%r,m=lt(w,n,r)*c%r,b=lt(m,a,r)*v%r,E=lt(b,e,r)*s%r,B=lt(E,Yt,r);if(!Xt.eql(Xt.sqr(B),t))throw new Error("Cannot find square root");return B}var Xt=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t<=it)throw new Error("Expected Fp ORDER > 0, got ".concat(t));var i=wt(t,r),o=i.nBitLength,a=i.nByteLength;if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");var u=yt(t),f=Object.freeze({ORDER:t,BITS:o,BYTES:a,MASK:Q(o),ZERO:it,ONE:ot,create:function(r){return ht(r,t)},isValid:function(r){if("bigint"!==typeof r)throw new Error("Invalid field element: expected bigint, got ".concat(typeof r));return it<=r&&r<t},is0:function(t){return t===it},isOdd:function(t){return(t&ot)===ot},neg:function(r){return ht(-r,t)},eql:function(t,r){return t===r},sqr:function(r){return ht(r*r,t)},add:function(r,n){return ht(r+n,t)},sub:function(r,n){return ht(r-n,t)},mul:function(r,n){return ht(r*n,t)},pow:function(t,r){return function(t,r,n){if(n<it)throw new Error("Expected power > 0");if(n===it)return t.ONE;if(n===ot)return r;for(var e=t.ONE,i=r;n>it;)n&ot&&(e=t.mul(e,i)),i=t.sqr(i),n>>=ot;return e}(f,t,r)},div:function(r,n){return ht(r*vt(n,t),t)},sqrN:function(t){return t*t},addN:function(t,r){return t+r},subN:function(t,r){return t-r},mulN:function(t,r){return t*r},inv:function(r){return vt(r,t)},sqrt:e.sqrt||function(t){return u(f,t)},invertBatch:function(t){return function(t,r){var n=new Array(r.length),e=r.reduce((function(r,e,i){return t.is0(e)?r:(n[i]=r,t.mul(r,e))}),t.ONE),i=t.inv(e);return r.reduceRight((function(r,e,i){return t.is0(e)?r:(n[i]=t.mul(r,n[i]),t.mul(r,e))}),i),n}(f,t)},cmov:function(t,r,n){return n?r:t},toBytes:function(t){return n?z(t,a):_(t,a)},fromBytes:function(t){if(t.length!==a)throw new Error("Fp.fromBytes: expected ".concat(a,", got ").concat(t.length));return n?F(t):V(t)}});return Object.freeze(f)}(Kt,void 0,void 0,{sqrt:Wt}),Jt=function(t,r){var n=function(r){return qt((0,bt.Z)((0,bt.Z)({},t),zt(r)))};return Object.freeze((0,bt.Z)((0,bt.Z)({},n(r)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:Xt,n:jt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function(t){var r=jt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),e=-Mt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),u=Gt(o*t,r),f=Gt(-e*t,r),s=ht(t-u*n-f*i,r),c=ht(-u*e-f*o,r),h=s>a,d=c>a;if(h&&(s=r-s),d&&(c=r-c),s>a||c>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:s,k2neg:d,k2:c}}}},Z),Qt=BigInt(0),$t=function(t){return"bigint"===typeof t&&Qt<t&&t<Kt},tr=function(t){return"bigint"===typeof t&&Qt<t&&t<jt},rr={};function nr(t){var r=rr[t];if(void 0===r){var n=Z(Uint8Array.from(t,(function(t){return t.charCodeAt(0)})));r=M(n,n),rr[t]=r}for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return Z(M.apply(void 0,[r].concat(i)))}var er=function(t){return t.toRawBytes(!0).slice(1)},ir=function(t){return _(t,32)},or=function(t){return ht(t,Kt)},ar=function(t){return ht(t,jt)},ur=Jt.ProjectivePoint,fr=function(t,r,n){return ur.BASE.multiplyAndAddUnsafe(t,r,n)};function sr(t){var r=Jt.utils.normPrivateKeyToScalar(t),n=ur.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:ar(-r),bytes:er(n)}}function cr(t){if(!$t(t))throw new Error("bad x: need 0 < x < p");var r=or(t*t),n=Wt(or(r*t+BigInt(7)));n%Yt!==Qt&&(n=or(-n));var e=new ur(t,n,Mt);return e.assertValidity(),e}function hr(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ar(V(nr.apply(void 0,["BIP0340/challenge"].concat(r))))}function dr(t){return sr(t).bytes}function lr(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E(32),e=j("message",t),i=sr(r),o=i.bytes,a=i.scalar,u=j("auxRand",n,32),f=ir(a^V(nr("BIP0340/aux",u))),s=nr("BIP0340/nonce",f,o,e),c=ar(V(s));if(c===Qt)throw new Error("sign failed: k is zero");var h=sr(c),d=h.bytes,l=h.scalar,v=hr(d,o,e),y=new Uint8Array(64);if(y.set(d,0),y.set(ir(ar(l+v*a)),32),!vr(y,e,o))throw new Error("sign: Invalid signature produced");return y}function vr(t,r,n){var e=j("signature",t,64),i=j("message",r),o=j("publicKey",n,32);try{var a=cr(V(o)),u=V(e.subarray(0,32));if(!$t(u))return!1;var f=V(e.subarray(32,64));if(!tr(f))return!1;var s=hr(ir(u),er(a),i),c=fr(a,f,ar(-s));return!(!c||!c.hasEvenY()||c.toAffine().x!==u)}catch(h){return!1}}var yr=function(){return{getPublicKey:dr,sign:lr,verify:vr,utils:{randomPrivateKey:Jt.utils.randomPrivateKey,lift_x:cr,pointToBytes:er,numberToBytesBE:_,bytesToNumberBE:V,taggedHash:nr,mod:ht}}}(),gr=function(){return function(t,r){var n=r.map((function(t){return Array.from(t).reverse()}));return function(r,e){var i=n.map((function(n){return n.reduce((function(n,e){return t.add(t.mul(n,r),e)}))})),o=(0,R.Z)(i,4),a=o[0],u=o[1],f=o[2],s=o[3];return r=t.div(a,u),e=t.mul(e,t.div(f,s)),{x:r,y:e}}}(Xt,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((function(t){return t.map((function(t){return BigInt(t)}))})))}(),pr=function(){return Lt(Xt,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Xt.create(BigInt("-11"))})}(),wr=function(){return function(t,r,n){if("function"!==typeof r)throw new Error("mapToCurve() must be defined");return{hashToCurve:function(e,i){var o=Vt(e,2,(0,bt.Z)((0,bt.Z)({},n),{},{DST:n.DST},i)),a=t.fromAffine(r(o[0])),u=t.fromAffine(r(o[1])),f=a.add(u).clearCofactor();return f.assertValidity(),f},encodeToCurve:function(e,i){var o=Vt(e,1,(0,bt.Z)((0,bt.Z)({},n),{},{DST:n.encodeDST},i)),a=t.fromAffine(r(o[0])).clearCofactor();return a.assertValidity(),a}}}(Jt.ProjectivePoint,(function(t){var r=pr(Xt.create(t[0])),n=r.x,e=r.y;return gr(n,e)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Xt.ORDER,m:1,k:128,expand:"xmd",hash:Z})}(),mr=function(){return wr.hashToCurve}(),br=function(){return wr.encodeToCurve}()}}]);